{ mkDerivation, async, atomic-primops, base, bifunctors, containers
, criterion-plus, deepseq, hashable, lib, mwc-random, primitive
, QuickCheck, stm, stm-containers, stm-stats, test-framework
, test-framework-quickcheck2, text, transformers
, unordered-containers, vector
}:
let
ttrie = mkDerivation {
          pname = "ttrie";
          version = "0.1.2.1";
          sha256 = "deadbeef";
          libraryHaskellDepends = [
            atomic-primops base hashable primitive stm
          ];
          buildTarget = "lib";
          homepage = "http://github.com/mcschroeder/ttrie";
          description = "Contention-free STM hash map";
          license = lib.licenses.mit;
        };
map-properties = mkDerivation {
                   pname = "map-properties";
                   version = "0.1.2.1";
                   sha256 = "deadbeef";
                   isLibrary = false;
                   isExecutable = true;
                   testHaskellDepends = [
                     base containers hashable QuickCheck stm test-framework
                     test-framework-quickcheck2 ttrie
                   ];
                   buildTarget = "map-properties";
                   homepage = "http://github.com/mcschroeder/ttrie";
                   description = "Contention-free STM hash map";
                   license = lib.licenses.mit;
                 };
bench = mkDerivation {
          pname = "bench";
          version = "0.1.2.1";
          sha256 = "deadbeef";
          isLibrary = false;
          isExecutable = true;
          benchmarkHaskellDepends = [
            async base bifunctors containers criterion-plus deepseq mwc-random
            primitive stm stm-containers stm-stats text transformers ttrie
            unordered-containers vector
          ];
          doBenchmark = true;
          buildTarget = "bench";
          homepage = "http://github.com/mcschroeder/ttrie";
          description = "Contention-free STM hash map";
          license = lib.licenses.mit;
        };
in {
  inherit
    ttrie
    map-properties
    bench
    ;
}
